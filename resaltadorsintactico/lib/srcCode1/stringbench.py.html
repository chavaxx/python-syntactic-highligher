<!DOCTYPE html>
  <head>
    <title>Resaltador sitactico python</title>
    <link rel='stylesheet' href='tags.css'>
  </head>
  <body>
    <pre>
    <code>

  
<i class ='comment'># Various microbenchmarks comparing unicode and byte string performance</i>
<i class ='comment'># Please keep this file both 2.x and 3.x compatible!</i>

<i class ='keyword'>import</i> <i class ='variable'>timeit</i>
<i class ='keyword'>import</i> <i class ='variable'>itertools</i>
<i class ='keyword'>import</i> <i class ='variable'>operator</i>
<i class ='keyword'>import</i> <i class ='variable'>re</i>
<i class ='keyword'>import</i> <i class ='variable'>sys</i>
<i class ='keyword'>import</i> <i class ='variable'>datetime</i>
<i class ='keyword'>import</i> <i class ='variable'>optparse</i>

<i class ='variable'>VERSION</i> <i class ='delimiter'>=</i> <i class ='charlist'>&#39;2.0&#39;</i>

<i class ='keyword'>def</i> <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='operator'>*</i><i class ='variable'>args</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>stdout</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='charlist'>&#39; &#39;</i><i class ='delimiter'>.</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>s</i><i class ='delimiter'>)</i> <i class ='keyword'>for</i> <i class ='variable'>s</i> <i class ='keyword'>in</i> <i class ='variable'>args</i><i class ='delimiter'>)</i> <i class ='operator'>+</i> <i class ='charlist'>&#39;\n&#39;</i><i class ='delimiter'>)</i>

<i class ='keyword'>if</i> <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>version_</i><i class ='variable'>info</i> <i class ='operator'>&gt;=</i> <i class ='delimiter'>(</i><i class ='integer'>3</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>BYTES</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='keyword'>lambda</i> <i class ='variable'>x</i><i class ='delimiter'>:</i> <i class ='variable'>x</i><i class ='delimiter'>.</i><i class ='variable'>encode</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;ascii&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>UNICODE</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='keyword'>lambda</i> <i class ='variable'>x</i><i class ='delimiter'>:</i> <i class ='variable'>x</i>
<i class ='keyword'>else</i><i class ='delimiter'>:</i>
    <i class ='variable'>BYTES</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='keyword'>lambda</i> <i class ='variable'>x</i><i class ='delimiter'>:</i> <i class ='variable'>x</i>
    <i class ='variable'>UNICODE</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='keyword'>lambda</i> <i class ='variable'>x</i><i class ='delimiter'>:</i> <i class ='variable'>x</i><i class ='delimiter'>.</i><i class ='variable'>decode</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;ascii&#39;</i><i class ='delimiter'>)</i>

<i class ='keyword'>class</i> <i class ='variable'>UnsupportedType</i><i class ='delimiter'>(</i><i class ='variable'>TypeError</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>pass</i>


<i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;stringbench v%s&#39;</i> <i class ='operator'>%</i> <i class ='variable'>VERSION</i><i class ='delimiter'>)</i>
<i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>version</i><i class ='delimiter'>)</i>
<i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='variable'>datetime</i><i class ='delimiter'>.</i><i class ='variable'>datetime</i><i class ='delimiter'>.</i><i class ='variable'>now</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

<i class ='variable'>REPEAT</i> <i class ='delimiter'>=</i> <i class ='integer'>1</i>
<i class ='variable'>REPEAT</i> <i class ='delimiter'>=</i> <i class ='integer'>3</i>
<i class ='comment'>#REPEAT = 7</i>

<i class ='keyword'>if</i> <i class ='hexadecimal'>__</i><i class ='variable'>name__</i> <i class ='operator'>!=</i> <i class ='string'>&quot;__main__&quot;</i><i class ='delimiter'>:</i>
    <i class ='keyword'>raise</i> <i class ='variable'>SystemExit</i><i class ='delimiter'>(</i><i class ='string'>&quot;Must run as main program&quot;</i><i class ='delimiter'>)</i>

<i class ='variable'>parser</i> <i class ='delimiter'>=</i> <i class ='variable'>optparse</i><i class ='delimiter'>.</i><i class ='variable'>OptionParser</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
<i class ='variable'>parser</i><i class ='delimiter'>.</i><i class ='variable'>add_</i><i class ='variable'>option</i><i class ='delimiter'>(</i><i class ='string'>&quot;-R&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;--skip-re&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>dest</i><i class ='delimiter'>=</i><i class ='string'>&quot;skip_re&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>action</i><i class ='delimiter'>=</i><i class ='string'>&quot;store_true&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>help</i><i class ='delimiter'>=</i><i class ='string'>&quot;skip regular expression tests&quot;</i><i class ='delimiter'>)</i>
<i class ='variable'>parser</i><i class ='delimiter'>.</i><i class ='variable'>add_</i><i class ='variable'>option</i><i class ='delimiter'>(</i><i class ='string'>&quot;-8&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;--8-bit&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>dest</i><i class ='delimiter'>=</i><i class ='string'>&quot;bytes_only&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>action</i><i class ='delimiter'>=</i><i class ='string'>&quot;store_true&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>help</i><i class ='delimiter'>=</i><i class ='string'>&quot;only do 8-bit string benchmarks&quot;</i><i class ='delimiter'>)</i>
<i class ='variable'>parser</i><i class ='delimiter'>.</i><i class ='variable'>add_</i><i class ='variable'>option</i><i class ='delimiter'>(</i><i class ='string'>&quot;-u&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;--unicode&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>dest</i><i class ='delimiter'>=</i><i class ='string'>&quot;unicode_only&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>action</i><i class ='delimiter'>=</i><i class ='string'>&quot;store_true&quot;</i><i class ='delimiter'>,</i>
                  <i class ='variable'>help</i><i class ='delimiter'>=</i><i class ='string'>&quot;only do Unicode string benchmarks&quot;</i><i class ='delimiter'>)</i>


<i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i> <i class ='delimiter'>=</i> <i class ='datatype'>list</i><i class ='delimiter'>(</i><i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>1000</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i> <i class ='delimiter'>=</i> <i class ='datatype'>list</i><i class ='delimiter'>(</i><i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>100</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i> <i class ='delimiter'>=</i> <i class ='datatype'>list</i><i class ='delimiter'>(</i><i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>10</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

<i class ='variable'>dups</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
<i class ='keyword'>def</i> <i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='variable'>s</i><i class ='delimiter'>,</i> <i class ='variable'>group</i><i class ='delimiter'>,</i> <i class ='variable'>repeat_</i><i class ='variable'>count</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>def</i> <i class ='variable'>blah</i><i class ='delimiter'>(</i><i class ='variable'>f</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>if</i> <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='hexadecimal'>__</i><i class ='variable'>name__</i> <i class ='keyword'>in</i> <i class ='variable'>dups</i><i class ='delimiter'>:</i>
            <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i><i class ='delimiter'>(</i><i class ='string'>&quot;Multiple functions with same name: %r&quot;</i> <i class ='operator'>%</i>
                                 <i class ='delimiter'>(</i><i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='hexadecimal'>__</i><i class ='variable'>name__</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
        <i class ='variable'>dups</i><i class ='delimiter'>[</i><i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='hexadecimal'>__</i><i class ='variable'>name__</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='integer'>1</i>
        <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='variable'>comment</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i>
        <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='variable'>is_</i><i class ='variable'>bench</i> <i class ='delimiter'>=</i> <i class ='keyword'>True</i>
        <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='variable'>group</i> <i class ='delimiter'>=</i> <i class ='variable'>group</i>
        <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='variable'>repeat_</i><i class ='variable'>count</i> <i class ='delimiter'>=</i> <i class ='variable'>repeat_</i><i class ='variable'>count</i>
        <i class ='keyword'>return</i> <i class ='variable'>f</i>
    <i class ='keyword'>return</i> <i class ='variable'>blah</i>

<i class ='keyword'>def</i> <i class ='variable'>uses_</i><i class ='variable'>re</i><i class ='delimiter'>(</i><i class ='variable'>f</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>f</i><i class ='delimiter'>.</i><i class ='variable'>uses_</i><i class ='variable'>re</i> <i class ='delimiter'>=</i> <i class ='keyword'>True</i>

<i class ='comment'>####### &#39;in&#39; comparisons</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot; in &quot;A&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;B&quot; in &quot;A&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;AB&quot; in &quot;AB&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;BC&quot; in &quot;AB&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;BC&quot; in (&quot;AB&quot;*300+&quot;C&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;C&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (s+&quot;E&quot;) in ((s+&quot;D&quot;)*300+s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>in_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>300</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s2</i> <i class ='keyword'>in</i> <i class ='variable'>s1</i>

<i class ='comment'># Try with regex</i>
<i class ='delimiter'>@</i><i class ='variable'>uses_</i><i class ='variable'>re</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; re.compile(s+&quot;D&quot;).search((s+&quot;D&quot;)*300+s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>re_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>300</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>re</i><i class ='delimiter'>.</i><i class ='variable'>compile</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>
    <i class ='variable'>search</i> <i class ='delimiter'>=</i> <i class ='variable'>pat</i><i class ='delimiter'>.</i><i class ='variable'>search</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>search</i><i class ='delimiter'>(</i><i class ='variable'>s1</i><i class ='delimiter'>)</i>


<i class ='comment'>#### same tests as &#39;in&#39; but use &#39;find&#39;</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).find(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).find(&quot;B&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).find(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).find(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).find(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*300+&quot;C&quot;).find(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;C&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*300+&quot;CA&quot;).find(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; ((s+&quot;D&quot;)*500+s+&quot;E&quot;).find(s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; ((s+&quot;D&quot;)*500+&quot;E&quot;+s).find(&quot;E&quot;+s)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>find_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i> <i class ='operator'>+</i> <i class ='variable'>e</i><i class ='operator'>+</i><i class ='variable'>m</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i><i class ='operator'>+</i><i class ='variable'>m</i>
    <i class ='variable'>s1_</i><i class ='variable'>find</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>find</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>find</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same tests for &#39;rfind&#39;</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rfind(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rfind(&quot;B&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rfind(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rfind(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rfind(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;C&quot;+&quot;AB&quot;*300).rfind(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;C&quot;</i> <i class ='operator'>+</i> <i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;BC&quot;+&quot;AB&quot;*300).rfind(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i> <i class ='operator'>+</i> <i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (&quot;E&quot;+s+(&quot;D&quot;+s)*500).rfind(&quot;E&quot;+s)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i><i class ='operator'>+</i><i class ='variable'>m</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='variable'>d</i><i class ='operator'>+</i><i class ='variable'>m</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i><i class ='operator'>+</i><i class ='variable'>m</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (s+&quot;E&quot;+(&quot;D&quot;+s)*500).rfind(s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rfind_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters_</i><i class ='variable'>bis</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='variable'>d</i><i class ='operator'>+</i><i class ='variable'>m</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s1_</i><i class ='variable'>rfind</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rfind</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rfind</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Now with index.</i>
<i class ='comment'># Skip the ones which fail because that would include exception overhead.</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).index(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>index_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>index</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>index</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>index</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).index(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>index_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>index</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>index</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>index</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*300+&quot;C&quot;).index(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>index_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;C&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>index</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>index</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>index</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; ((s+&quot;D&quot;)*500+s+&quot;E&quot;).index(s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>index_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s1_</i><i class ='variable'>index</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>index</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>index</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same for rindex</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rindex(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rindex_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rindex</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rindex</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rindex</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rindex(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rindex_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rindex</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rindex</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rindex</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;C&quot;+&quot;AB&quot;*300).rindex(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rindex_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;C&quot;</i> <i class ='operator'>+</i> <i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rindex</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rindex</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rindex</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (&quot;E&quot;+s+(&quot;D&quot;+s)*500).rindex(&quot;E&quot;+s)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rindex_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='variable'>d</i><i class ='operator'>+</i><i class ='variable'>m</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i>
    <i class ='variable'>s1_</i><i class ='variable'>rindex</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rindex</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rindex</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same for partition</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).partition(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).partition(&quot;B&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).partition(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).partition(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*300+&quot;C&quot;).partition(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;C&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; ((s+&quot;D&quot;)*500+s+&quot;E&quot;).partition(s+&quot;E&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>partition_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s1_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same for rpartition</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rpartition(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rpartition(&quot;B&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rpartition(&quot;AB&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rpartition(&quot;BC&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;C&quot;+&quot;AB&quot;*300).rpartition(&quot;CA&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;C&quot;</i> <i class ='operator'>+</i> <i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (&quot;E&quot;+s+(&quot;D&quot;+s)*500).rpartition(&quot;E&quot;+s)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rpartition_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='variable'>d</i><i class ='operator'>+</i><i class ='variable'>m</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i>
    <i class ='variable'>s1_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same for split(s, 1)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).split(&quot;A&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).split(&quot;B&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).split(&quot;AB&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).split(&quot;BC&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*300+&quot;C&quot;).split(&quot;BC&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='operator'>+</i><i class ='string'>&quot;C&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; ((s+&quot;D&quot;)*500+s+&quot;E&quot;).split(s+&quot;E&quot;, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>d</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i> <i class ='operator'>+</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>m</i><i class ='operator'>+</i><i class ='variable'>e</i>
    <i class ='variable'>s1_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Same for rsplit(s, 1)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rsplit(&quot;A&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot;*1000).rsplit(&quot;B&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, single character&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;B&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rsplit(&quot;AB&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;early match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>quick_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;AB&quot;*1000).rsplit(&quot;BC&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;no match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>no_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;C&quot;+&quot;AB&quot;*300).rsplit(&quot;CA&quot;, 1)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;late match, two characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_</i><i class ='variable'>two_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;C&quot;</i> <i class ='operator'>+</i> <i class ='string'>&quot;AB&quot;</i> <i class ='operator'>*</i> <i class ='integer'>300</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;CA&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;ABC&quot;*33; (&quot;E&quot;+s+(&quot;D&quot;+s)*500).rsplit(&quot;E&quot;+s, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;late match, 100 characters&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>test_</i><i class ='variable'>slow_</i><i class ='variable'>match_100_</i><i class ='variable'>characters</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABC&quot;</i><i class ='operator'>*</i><i class ='integer'>33</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;D&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>e</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;E&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='variable'>d</i><i class ='operator'>+</i><i class ='variable'>m</i><i class ='delimiter'>)</i><i class ='operator'>*</i><i class ='integer'>500</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>e</i> <i class ='operator'>+</i> <i class ='variable'>m</i>
    <i class ='variable'>s1_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Benchmark the operator-based methods</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;*10&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;repeat 1 character 10 times&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>repeat_</i><i class ='variable'>single_10_</i><i class ='variable'>times</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i> <i class ='operator'>*</i> <i class ='integer'>10</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;repeat 1 character 1000 times&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>repeat_</i><i class ='variable'>single_1000_</i><i class ='variable'>times</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i> <i class ='operator'>*</i> <i class ='integer'>1000</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;*10&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;repeat 5 characters 10 times&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>repeat_5_10_</i><i class ='variable'>times</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i> <i class ='operator'>*</i> <i class ='integer'>10</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;*1000&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;repeat 5 characters 1000 times&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>repeat_5_1000_</i><i class ='variable'>times</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i> <i class ='operator'>*</i> <i class ='integer'>1000</i>

<i class ='comment'># + for concat</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;+&quot;Dalke&quot;&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;concat two strings&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>concat_</i><i class ='variable'>two_</i><i class ='variable'>strings</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Dalke&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1</i><i class ='operator'>+</i><i class ='variable'>s2</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s1+s2+s3+s4+...+s20&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;concat 20 strings of words length 4 to 15&quot;</i><i class ='delimiter'>,</i>
       <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>concat_</i><i class ='variable'>many_</i><i class ='variable'>strings</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;TIXSGYNREDCVBHJ&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;PUMTLXBZVDO&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s3</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;FVZNJ&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s4</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;OGDXUW&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s5</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;WEIMRNCOYVGHKB&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s6</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;FCQTNMXPUZH&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s7</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;TICZJYRLBNVUEAK&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s8</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;REYB&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s9</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;PWUOQ&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s10</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;EQHCMKBS&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s11</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;AEVDFOH&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s12</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;IFHVD&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s13</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;JGTCNLXWOHQ&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s14</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;ITSKEPYLROZAWXF&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s15</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;THEK&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s16</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;GHPZFBUYCKMNJIT&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s17</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;JMUZ&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s18</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;WLZQMTB&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s19</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;KPADCBW&#39;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s20</i><i class ='delimiter'>=</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;TNJHZQAGBU&#39;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='delimiter'>(</i><i class ='variable'>s1</i> <i class ='operator'>+</i> <i class ='variable'>s2</i><i class ='operator'>+</i> <i class ='variable'>s3</i><i class ='operator'>+</i> <i class ='variable'>s4</i><i class ='operator'>+</i> <i class ='variable'>s5</i><i class ='operator'>+</i> <i class ='variable'>s6</i><i class ='operator'>+</i> <i class ='variable'>s7</i><i class ='operator'>+</i> <i class ='variable'>s8</i><i class ='operator'>+</i> <i class ='variable'>s9</i><i class ='operator'>+</i><i class ='variable'>s10</i><i class ='operator'>+</i>
         <i class ='variable'>s11</i><i class ='operator'>+</i><i class ='variable'>s12</i><i class ='operator'>+</i><i class ='variable'>s13</i><i class ='operator'>+</i><i class ='variable'>s14</i><i class ='operator'>+</i><i class ='variable'>s15</i><i class ='operator'>+</i><i class ='variable'>s16</i><i class ='operator'>+</i><i class ='variable'>s17</i><i class ='operator'>+</i><i class ='variable'>s18</i><i class ='operator'>+</i><i class ='variable'>s19</i><i class ='operator'>+</i><i class ='variable'>s20</i><i class ='delimiter'>)</i>


<i class ='comment'>#### Benchmark join</i>

<i class ='keyword'>def</i> <i class ='variable'>get_</i><i class ='variable'>bytes_</i><i class ='variable'>yielding_</i><i class ='variable'>seq</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>,</i> <i class ='variable'>arg</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i> <i class ='keyword'>and</i> <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>version_</i><i class ='variable'>info</i> <i class ='operator'>&gt;=</i> <i class ='delimiter'>(</i><i class ='integer'>3</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>raise</i> <i class ='variable'>UnsupportedType</i>
    <i class ='keyword'>return</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>arg</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;.join(&quot;&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join empty string, with 1 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>empty_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>get_</i><i class ='variable'>bytes_</i><i class ='variable'>yielding_</i><i class ='variable'>seq</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>,</i> <i class ='string'>&quot;&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;.join(&quot;&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join empty string, with 5 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>empty_5</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>get_</i><i class ='variable'>bytes_</i><i class ='variable'>yielding_</i><i class ='variable'>seq</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>,</i> <i class ='string'>&quot;&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_100</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;.join(&quot;ABC..Z&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join string with 26 characters, with 1 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>alphabet_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>get_</i><i class ='variable'>bytes_</i><i class ='variable'>yielding_</i><i class ='variable'>seq</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>,</i> <i class ='string'>&quot;ABCDEFGHIJKLMnOPQRSTUVWXYZ&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;.join(&quot;ABC..Z&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join string with 26 characters, with 5 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>alphabet_5</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>get_</i><i class ='variable'>bytes_</i><i class ='variable'>yielding_</i><i class ='variable'>seq</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>,</i> <i class ='string'>&quot;ABCDEFGHIJKLMnOPQRSTUVWXYZ&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;.join(list(&quot;ABC..Z&quot;))&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join list of 26 characters, with 1 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>alphabet_</i><i class ='variable'>list_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>x</i><i class ='delimiter'>)</i> <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='string'>&quot;ABCDEFGHIJKLMnOPQRSTUVWXYZ&quot;</i><i class ='delimiter'>]</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;.join(list(&quot;ABC..Z&quot;))&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join list of 26 characters, with 5 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_</i><i class ='variable'>alphabet_</i><i class ='variable'>list_</i><i class ='variable'>five</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>x</i><i class ='delimiter'>)</i> <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='string'>&quot;ABCDEFGHIJKLMnOPQRSTUVWXYZ&quot;</i><i class ='delimiter'>]</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;A&quot;.join([&quot;Bob&quot;]*100))&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join list of 100 words, with 1 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_100_</i><i class ='variable'>words_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Bob&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i><i class ='operator'>*</i><i class ='integer'>100</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;ABCDE&quot;.join([&quot;Bob&quot;]*100))&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;join list of 100 words, with 5 character sep&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>join_100_</i><i class ='variable'>words_5</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ABCDE&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Bob&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i><i class ='operator'>*</i><i class ='integer'>100</i>
    <i class ='variable'>sep_</i><i class ='variable'>join</i> <i class ='delimiter'>=</i> <i class ='variable'>sep</i><i class ='delimiter'>.</i><i class ='variable'>join</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>sep_</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='comment'>#### split tests</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).split()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split whitespace (small)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).rsplit()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split whitespace (small)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).split(None, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split 1 whitespace&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>split_1</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='variable'>N</i> <i class ='delimiter'>=</i> <i class ='keyword'>None</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>N</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).rsplit(None, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split 1 whitespace&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>rsplit_1</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='variable'>N</i> <i class ='delimiter'>=</i> <i class ='keyword'>None</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>N</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).partition(&quot; &quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split 1 whitespace&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>partition</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>partition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>partition</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Here are some words. &quot;*2).rpartition(&quot; &quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split 1 whitespace&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Here are some words. &quot;</i><i class ='operator'>*</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rpartition</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rpartition</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rpartition</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>)</i>

<i class ='variable'>human_</i><i class ='variable'>text</i> <i class ='delimiter'>=</i> <i class ='multilineComment'>&quot;&quot;&quot;\
Python is a dynamic object-oriented programming language that can be
used for many kinds of software development. It offers strong support
for integration with other languages and tools, comes with extensive
standard libraries, and can be learned in a few days. Many Python
programmers report substantial productivity gains and feel the language
encourages the development of higher quality, more maintainable code.

Python runs on Windows, Linux/Unix, Mac OS X, Amiga, Palm
Handhelds, and Nokia mobile phones. Python has also been ported to the
Java and .NET virtual machines.

Python is distributed under an OSI-approved open source license that
makes it free to use, even for commercial products.
&quot;&quot;&quot;</i><i class ='operator'>*</i><i class ='integer'>25</i>
<i class ='variable'>human_</i><i class ='variable'>text_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>human_</i><i class ='variable'>text</i><i class ='delimiter'>)</i>
<i class ='variable'>human_</i><i class ='variable'>text_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>human_</i><i class ='variable'>text</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>human_</i><i class ='variable'>text</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='variable'>human_</i><i class ='variable'>text_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='variable'>human_</i><i class ='variable'>text_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;human_text.split()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split whitespace (huge)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>split_</i><i class ='variable'>huge</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>human_</i><i class ='variable'>text</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;human_text.rsplit()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split whitespace (huge)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>whitespace_</i><i class ='variable'>rsplit_</i><i class ='variable'>huge</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>human_</i><i class ='variable'>text</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>



<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;this\\nis\\na\\ntest\\n&quot;.split(&quot;\\n&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;this\nis\na\ntest\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='variable'>nl</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>nl</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;this\\nis\\na\\ntest\\n&quot;.rsplit(&quot;\\n&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;this\nis\na\ntest\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='variable'>nl</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>nl</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;this\\nis\\na\\ntest\\n&quot;.splitlines()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>splitlines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;this\nis\na\ntest\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>splitlines</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>splitlines</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>splitlines</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='comment'>## split text with 2000 newlines</i>

<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>make_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>import</i> <i class ='variable'>random</i>
    <i class ='variable'>r</i> <i class ='delimiter'>=</i> <i class ='variable'>random</i><i class ='delimiter'>.</i><i class ='variable'>Random</i><i class ='delimiter'>(</i><i class ='integer'>100</i><i class ='delimiter'>)</i>
    <i class ='variable'>chars</i> <i class ='delimiter'>=</i> <i class ='datatype'>list</i><i class ='delimiter'>(</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>chr</i><i class ='delimiter'>,</i> <i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>32</i><i class ='delimiter'>,</i> <i class ='integer'>128</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
    <i class ='variable'>i</i> <i class ='delimiter'>=</i> <i class ='integer'>0</i>
    <i class ='keyword'>while</i> <i class ='variable'>i</i> <i class ='operator'>&lt;</i> <i class ='variable'>len</i><i class ='delimiter'>(</i><i class ='variable'>chars</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='variable'>chars</i><i class ='delimiter'>[</i><i class ='variable'>i</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='string'>&quot; &quot;</i>
        <i class ='variable'>i</i> <i class ='delimiter'>+=</i> <i class ='variable'>r</i><i class ='delimiter'>.</i><i class ='variable'>randrange</i><i class ='delimiter'>(</i><i class ='integer'>9</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;&quot;</i><i class ='delimiter'>.</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>chars</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='operator'>*</i><i class ='integer'>4</i>
    <i class ='variable'>words</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='delimiter'>]</i>
    <i class ='keyword'>for</i> <i class ='variable'>i</i> <i class ='keyword'>in</i> <i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>2000</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='variable'>start</i> <i class ='delimiter'>=</i> <i class ='variable'>r</i><i class ='delimiter'>.</i><i class ='variable'>randrange</i><i class ='delimiter'>(</i><i class ='integer'>96</i><i class ='delimiter'>)</i>
        <i class ='variable'>n</i> <i class ='delimiter'>=</i> <i class ='variable'>r</i><i class ='delimiter'>.</i><i class ='variable'>randint</i><i class ='delimiter'>(</i><i class ='integer'>5</i><i class ='delimiter'>,</i> <i class ='integer'>65</i><i class ='delimiter'>)</i>
        <i class ='variable'>words</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i><i class ='variable'>s</i><i class ='delimiter'>[</i><i class ='variable'>start</i><i class ='delimiter'>:</i><i class ='variable'>start</i><i class ='operator'>+</i><i class ='variable'>n</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i>
    <i class ='keyword'>return</i> <i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>.</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='variable'>words</i><i class ='delimiter'>)</i><i class ='operator'>+</i><i class ='string'>&quot;\n&quot;</i>

<i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>make_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_</i><i class ='variable'>text_</i><i class ='variable'>with_2000_</i><i class ='variable'>lines_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;...text...&quot;.split(&quot;\\n&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split 2000 newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>split_2000</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='variable'>nl</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>nl</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;...text...&quot;.rsplit(&quot;\\n&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split 2000 newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>rsplit_2000</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='variable'>nl</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>nl</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;...text...&quot;.splitlines()&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;split 2000 newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>newlines_</i><i class ='variable'>splitlines_2000</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>splitlines</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>splitlines</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>splitlines</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>


<i class ='comment'>## split text on &quot;--&quot; characters</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i>
    <i class ='charlist'>&#39;&quot;this--is--a--test--of--the--emergency--broadcast--system&quot;.split(&quot;--&quot;)&#39;</i><i class ='delimiter'>,</i>
    <i class ='string'>&quot;split on multicharacter separator (small)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>multichar_</i><i class ='variable'>sep_</i><i class ='variable'>small</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;this--is--a--test--of--the--emergency--broadcast--system&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;--&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>pat</i><i class ='delimiter'>)</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i>
    <i class ='charlist'>&#39;&quot;this--is--a--test--of--the--emergency--broadcast--system&quot;.rsplit(&quot;--&quot;)&#39;</i><i class ='delimiter'>,</i>
    <i class ='string'>&quot;split on multicharacter separator (small)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>multichar_</i><i class ='variable'>sep_</i><i class ='variable'>small</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;this--is--a--test--of--the--emergency--broadcast--system&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;--&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>pat</i><i class ='delimiter'>)</i>

<i class ='comment'>## split dna text on &quot;ACTAT&quot; characters</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;dna.split(&quot;ACTAT&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split on multicharacter separator (dna)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>split_</i><i class ='variable'>multichar_</i><i class ='variable'>sep_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ACTAT&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>pat</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;dna.rsplit(&quot;ACTAT&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;split on multicharacter separator (dna)&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>rsplit_</i><i class ='variable'>multichar_</i><i class ='variable'>sep_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ACTAT&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>pat</i><i class ='delimiter'>)</i>



<i class ='comment'>## split with limits</i>

<i class ='variable'>GFF3_</i><i class ='variable'>example</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>.</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='delimiter'>[</i>
    <i class ='string'>&quot;I&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;Genomic_canonical&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;region&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;357208&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;396183&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;.&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;+&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;.&quot;</i><i class ='delimiter'>,</i>
    <i class ='string'>&quot;ID=Sequence:R119;note=Clone R119%3B Genbank AF063007;Name=R119&quot;</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;GFF3_example.split(&quot;\\t&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;tab split&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>tab_</i><i class ='variable'>split_</i><i class ='variable'>no_</i><i class ='variable'>limit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>GFF3_</i><i class ='variable'>example</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;GFF3_example.split(&quot;\\t&quot;, 8)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;tab split&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>tab_</i><i class ='variable'>split_</i><i class ='variable'>limit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>GFF3_</i><i class ='variable'>example</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>split</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>split</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>,</i> <i class ='integer'>8</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;GFF3_example.rsplit(&quot;\\t&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;tab split&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>tab_</i><i class ='variable'>rsplit_</i><i class ='variable'>no_</i><i class ='variable'>limit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>GFF3_</i><i class ='variable'>example</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;GFF3_example.rsplit(&quot;\\t&quot;, 8)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;tab split&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>tab_</i><i class ='variable'>rsplit_</i><i class ='variable'>limit</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>sep</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='variable'>GFF3_</i><i class ='variable'>example</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rsplit</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rsplit</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rsplit</i><i class ='delimiter'>(</i><i class ='variable'>sep</i><i class ='delimiter'>,</i> <i class ='integer'>8</i><i class ='delimiter'>)</i>

<i class ='comment'>#### Count characters</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;...text.with.2000.newlines.count(&quot;\\n&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;count newlines&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>count_</i><i class ='variable'>newlines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>count</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>count</i>
    <i class ='variable'>nl</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>count</i><i class ='delimiter'>(</i><i class ='variable'>nl</i><i class ='delimiter'>)</i>

<i class ='comment'># Orchid sequences concatenated, from Biopython</i>
<i class ='hexadecimal'>_d</i><i class ='variable'>na</i> <i class ='delimiter'>=</i> <i class ='multilineComment'>&quot;&quot;&quot;
CGTAACAAGGTTTCCGTAGGTGAACCTGCGGAAGGATCATTGTTGAGATCACATAATAATTGATCGGGTT
AATCTGGAGGATCTGTTTACTTTGGTCACCCATGAGCATTTGCTGTTGAAGTGACCTAGAATTGCCATCG
AGCCTCCTTGGGAGCTTTCTTGTTGGCGAGATCTAAACCCTTGCCCGGCGCAGTTTTGCTCCAAGTCGTT
TGACACATAATTGGTGAAGGGGGTGGCATCCTTCCCTGACCCTCCCCCAACTATTTTTTTAACAACTCTC
AGCAACGGAGACTCAGTCTTCGGCAAATGCGATAAATGGTGTGAATTGCAGAATCCCGTGCACCATCGAG
TCTTTGAACGCAAGTTGCGCCCGAGGCCATCAGGCCAAGGGCACGCCTGCCTGGGCATTGCGAGTCATAT
CTCTCCCTTAACGAGGCTGTCCATACATACTGTTCAGCCGGTGCGGATGTGAGTTTGGCCCCTTGTTCTT
TGGTACGGGGGGTCTAAGAGCTGCATGGGCTTTTGATGGTCCTAAATACGGCAAGAGGTGGACGAACTAT
GCTACAACAAAATTGTTGTGCAGAGGCCCCGGGTTGTCGTATTAGATGGGCCACCGTAATCTGAAGACCC
TTTTGAACCCCATTGGAGGCCCATCAACCCATGATCAGTTGATGGCCATTTGGTTGCGACCCCAGGTCAG
GTGAGCAACAGCTGTCGTAACAAGGTTTCCGTAGGGTGAACTGCGGAAGGATCATTGTTGAGATCACATA
ATAATTGATCGAGTTAATCTGGAGGATCTGTTTACTTGGGTCACCCATGGGCATTTGCTGTTGAAGTGAC
CTAGATTTGCCATCGAGCCTCCTTGGGAGCATCCTTGTTGGCGATATCTAAACCCTCAATTTTTCCCCCA
ATCAAATTACACAAAATTGGTGGAGGGGGTGGCATTCTTCCCTTACCCTCCCCCAAATATTTTTTTAACA
ACTCTCAGCAACGGATATCTCAGCTCTTGCATCGATGAAGAACCCACCGAAATGCGATAAATGGTGTGAA
TTGCAGAATCCCGTGAACCATCGAGTCTTTGAACGCAAGTTGCGCCCGAGGCCATCAGGCCAAGGGCACG
CCTGCCTGGGCATTGCGAGTCATATCTCTCCCTTAACGAGGCTGTCCATACATACTGTTCAGCCGGTGCG
GATGTGAGTTTGGCCCCTTGTTCTTTGGTACGGGGGGTCTAAGAGATGCATGGGCTTTTGATGGTCCTAA
ATACGGCAAGAGGTGGACGAACTATGCTACAACAAAATTGTTGTGCAAAGGCCCCGGGTTGTCGTATAAG
ATGGGCCACCGATATCTGAAGACCCTTTTGGACCCCATTGGAGCCCATCAACCCATGTCAGTTGATGGCC
ATTCGTAACAAGGTTTCCGTAGGTGAACCTGCGGAAGGATCATTGTTGAGATCACATAATAATTGATCGA
GTTAATCTGGAGGATCTGTTTACTTGGGTCACCCATGGGCATTTGCTGTTGAAGTGACCTAGATTTGCCA
TCGAGCCTCCTTGGGAGCTTTCTTGTTGGCGATATCTAAACCCTTGCCCGGCAGAGTTTTGGGAATCCCG
TGAACCATCGAGTCTTTGAACGCAAGTTGCGCCCGAGGCCATCAGGCCAAGGGCACGCCTGCCTGGGCAT
TGCGAGTCATATCTCTCCCTTAACGAGGCTGTCCATACACACCTGTTCAGCCGGTGCGGATGTGAGTTTG
GCCCCTTGTTCTTTGGTACGGGGGGTCTAAGAGCTGCATGGGCTTTTGATGGTCCTAAATACGGCAAGAG
GTGGACGAACTATGCTACAACAAAATTGTTGTGCAAAGGCCCCGGGTTGTCGTATTAGATGGGCCACCAT
AATCTGAAGACCCTTTTGAACCCCATTGGAGGCCCATCAACCCATGATCAGTTGATGGCCATTTGGTTGC
GACCCAGTCAGGTGAGGGTAGGTGAACCTGCGGAAGGATCATTGTTGAGATCACATAATAATTGATCGAG
TTAATCTGGAGGATCTGTTTACTTTGGTCACCCATGGGCATTTGCTGTTGAAGTGACCTAGATTTGCCAT
CGAGCCTCCTTGGGAGCTTTCTTGTTGGCGAGATCTAAACCCTTGCCCGGCGGAGTTTGGCGCCAAGTCA
TATGACACATAATTGGTGAAGGGGGTGGCATCCTGCCCTGACCCTCCCCAAATTATTTTTTTAACAACTC
TCAGCAACGGATATCTCGGCTCTTGCATCGATGAAGAACGCAGCGAAATGCGATAAATGGTGTGAATTGC
AGAATCCCGTGAACCATCGAGTCTTTGGAACGCAAGTTGCGCCCGAGGCCATCAGGCCAAGGGCACGCCT
GCCTGGGCATTGGGAATCATATCTCTCCCCTAACGAGGCTATCCAAACATACTGTTCATCCGGTGCGGAT
GTGAGTTTGGCCCCTTGTTCTTTGGTACCGGGGGTCTAAGAGCTGCATGGGCATTTGATGGTCCTCAAAA
CGGCAAGAGGTGGACGAACTATGCCACAACAAAATTGTTGTCCCAAGGCCCCGGGTTGTCGTATTAGATG
GGCCACCGTAACCTGAAGACCCTTTTGAACCCCATTGGAGGCCCATCAACCCATGATCAGTTGATGACCA
TTTGTTGCGACCCCAGTCAGCTGAGCAACCCGCTGAGTGGAAGGTCATTGCCGATATCACATAATAATTG
ATCGAGTTAATCTGGAGGATCTGTTTACTTGGTCACCCATGAGCATTTGCTGTTGAAGTGACCTAGATTT
GCCATCGAGCCTCCTTGGGAGTTTTCTTGTTGGCGAGATCTAAACCCTTGCCCGGCGGAGTTGTGCGCCA
AGTCATATGACACATAATTGGTGAAGGGGGTGGCATCCTGCCCTGACCCTCCCCAAATTATTTTTTTAAC
AACTCTCAGCAACGGATATCTCGGCTCTTGCATCGATGAAGAACGCAGCGAAATGCGATAAATGGTGTGA
ATTGCAGAATCCCGTGAACCATCGAGTCTTTGAACGCAAGTTGCGCCCGAGGCCATCAGGCCAAGGGCAC
GCCTGCCTGGGCATTGCGAGTCATATCTCTCCCTTAACGAGGCTGTCCATACATACTGTTCATCCGGTGC
GGATGTGAGTTTGGCCCCTTGTTCTTTGGTACGGGGGGTCTAAGAGCTGCATGGGCATTTGATGGTCCTC
AAAACGGCAAGAGGTGGACGAACTATGCTACAACCAAATTGTTGTCCCAAGGCCCCGGGTTGTCGTATTA
GATGGGCCACCGTAACCTGAAGACCCTTTTGAACCCCATTGGAGGCCCATCAACCCATGATCAGTTGATG
ACCATGTGTTGCGACCCCAGTCAGCTGAGCAACGCGCTGAGCGTAACAAGGTTTCCGTAGGTGGACCTCC
GGGAGGATCATTGTTGAGATCACATAATAATTGATCGAGGTAATCTGGAGGATCTGCATATTTTGGTCAC
&quot;&quot;&quot;</i>
<i class ='hexadecimal'>_d</i><i class ='variable'>na</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;&quot;</i><i class ='delimiter'>.</i><i class ='variable'>join</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_d</i><i class ='variable'>na</i><i class ='delimiter'>.</i><i class ='variable'>splitlines</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_d</i><i class ='variable'>na</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_d</i><i class ='variable'>na</i> <i class ='operator'>*</i> <i class ='integer'>25</i>
<i class ='hexadecimal'>_d</i><i class ='variable'>na_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_d</i><i class ='variable'>na</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_d</i><i class ='variable'>na_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_d</i><i class ='variable'>na</i><i class ='delimiter'>)</i>

<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_d</i><i class ='variable'>na_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_d</i><i class ='variable'>na_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;dna.count(&quot;AACT&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;count AACT substrings in DNA example&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>count_</i><i class ='variable'>aact</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>seq</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>seq_</i><i class ='variable'>count</i> <i class ='delimiter'>=</i> <i class ='variable'>seq</i><i class ='delimiter'>.</i><i class ='variable'>count</i>
    <i class ='variable'>needle</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AACT&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>seq_</i><i class ='variable'>count</i><i class ='delimiter'>(</i><i class ='variable'>needle</i><i class ='delimiter'>)</i>

<i class ='comment'>##### startswith and endswith</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.startswith(&quot;A&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;startswith single character&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>startswith_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>startswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>startswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>startswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.startswith(&quot;Andrew&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;startswith multiple characters&#39;</i><i class ='delimiter'>,</i>
       <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>startswith_</i><i class ='variable'>multiple</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>startswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>startswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>startswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.startswith(&quot;Anders&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;startswith multiple characters - not!&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>startswith_</i><i class ='variable'>multiple_</i><i class ='keyword'>not</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Anders&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>startswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>startswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>startswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>


<i class ='comment'># endswith</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.endswith(&quot;w&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;endswith single character&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>endswith_</i><i class ='variable'>single</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;w&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>endswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>endswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>endswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.endswith(&quot;Andrew&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;endswith multiple characters&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>endswith_</i><i class ='variable'>multiple</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>endswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>endswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>endswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Andrew&quot;.endswith(&quot;Anders&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;endswith multiple characters - not!&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>endswith_</i><i class ='variable'>multiple_</i><i class ='keyword'>not</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s1</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Andrew&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s2</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Anders&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s1_</i><i class ='variable'>endswith</i> <i class ='delimiter'>=</i> <i class ='variable'>s1</i><i class ='delimiter'>.</i><i class ='variable'>endswith</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s1_</i><i class ='variable'>endswith</i><i class ='delimiter'>(</i><i class ='variable'>s2</i><i class ='delimiter'>)</i>

<i class ='comment'>#### Strip</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Hello!\\n&quot;.strip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>strip_</i><i class ='variable'>right</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Hello!\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>strip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>strip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Hello!\\n&quot;.rstrip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>rstrip</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Hello!\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rstrip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rstrip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rstrip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;\\nHello!&quot;.strip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>strip_</i><i class ='variable'>left</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\nHello!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>strip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>strip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;\\nHello!\\n&quot;.strip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>strip_</i><i class ='variable'>both</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\nHello!\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>strip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>strip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;\\nHello!&quot;.rstrip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>lstrip</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\nHello!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>lstrip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>lstrip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>lstrip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;s=&quot;Hello!\\n&quot;; s[:-1] if s[-1]==&quot;\\n&quot; else s&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;strip terminal newline&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>newline_</i><i class ='variable'>if_</i><i class ='keyword'>else</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Hello!\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>NL</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i><i class ='delimiter'>[</i><i class ='delimiter'>:</i><i class ='variable'>-1</i><i class ='delimiter'>]</i> <i class ='keyword'>if</i> <i class ='delimiter'>(</i><i class ='variable'>s</i><i class ='delimiter'>[</i><i class ='variable'>-1</i><i class ='delimiter'>]</i> <i class ='operator'>==</i> <i class ='variable'>NL</i><i class ='delimiter'>)</i> <i class ='keyword'>else</i> <i class ='variable'>s</i>


<i class ='comment'># Strip multiple spaces or tabs</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Hello\\t   \\t&quot;.strip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal spaces and tabs&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>space_</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Hello\t   \t!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>strip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>strip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;Hello\\t   \\t&quot;.rstrip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal spaces and tabs&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>space_</i><i class ='variable'>rstrip</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Hello!\t   \t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>rstrip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>rstrip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>rstrip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;\\t   \\tHello&quot;.rstrip()&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;strip terminal spaces and tabs&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>terminal_</i><i class ='variable'>space_</i><i class ='variable'>lstrip</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t   \tHello!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>lstrip</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>lstrip</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>lstrip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>


<i class ='comment'>#### replace</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;This is a test&quot;.replace(&quot; &quot;, &quot;\\t&quot;)&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;replace single character&#39;</i><i class ='delimiter'>,</i>
       <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>single_</i><i class ='variable'>character</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;This is a test!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>uses_</i><i class ='variable'>re</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;re.sub(&quot; &quot;, &quot;\\t&quot;, &quot;This is a test&quot;&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;replace single character&#39;</i><i class ='delimiter'>,</i>
       <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>single_</i><i class ='variable'>character_</i><i class ='variable'>re</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;This is a test!&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>re</i><i class ='delimiter'>.</i><i class ='variable'>compile</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\t&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>pat_</i><i class ='variable'>sub</i> <i class ='delimiter'>=</i> <i class ='variable'>pat</i><i class ='delimiter'>.</i><i class ='variable'>sub</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>pat_</i><i class ='variable'>sub</i><i class ='delimiter'>(</i><i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>s</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;...text.with.2000.lines...replace(&quot;\\n&quot;, &quot; &quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;replace single character, big string&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>single_</i><i class ='variable'>character_</i><i class ='variable'>big</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>uses_</i><i class ='variable'>re</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;re.sub(&quot;\\n&quot;, &quot; &quot;, &quot;...text.with.2000.lines...&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;replace single character, big string&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>single_</i><i class ='variable'>character_</i><i class ='variable'>big_</i><i class ='variable'>re</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>pat</i> <i class ='delimiter'>=</i> <i class ='variable'>re</i><i class ='delimiter'>.</i><i class ='variable'>compile</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot; &quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>pat_</i><i class ='variable'>sub</i> <i class ='delimiter'>=</i> <i class ='variable'>pat</i><i class ='delimiter'>.</i><i class ='variable'>sub</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>pat_</i><i class ='variable'>sub</i><i class ='delimiter'>(</i><i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>s</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;dna.replace(&quot;ATC&quot;, &quot;ATT&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;replace multiple characters, dna&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>multiple_</i><i class ='variable'>characters_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>seq</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>dna</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ATC&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ATT&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>seq_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>seq</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>seq_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>)</i>

<i class ='comment'># This increases the character count</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;...text.with.2000.newlines...replace(&quot;\\n&quot;, &quot;\\r\\n&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;replace and expand multiple characters, big string&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>multiple_</i><i class ='variable'>character_</i><i class ='variable'>big</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_2000_</i><i class ='variable'>lines</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;\r\n&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>)</i>


<i class ='comment'># This decreases the character count</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;When shall we three meet again?&quot;.replace(&quot;ee&quot;, &quot;&quot;)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;replace/remove multiple characters&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>replace_</i><i class ='variable'>multiple_</i><i class ='variable'>character_</i><i class ='variable'>remove</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;When shall we three meet again?&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;ee&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>)</i>


<i class ='variable'>big_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;A&quot;</i> <i class ='operator'>+</i> <i class ='delimiter'>(</i><i class ='string'>&quot;Z&quot;</i><i class ='operator'>*</i><i class ='integer'>128</i><i class ='operator'>*</i><i class ='integer'>1024</i><i class ='delimiter'>)</i>
<i class ='variable'>big_</i><i class ='variable'>s_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>big_</i><i class ='variable'>s</i><i class ='delimiter'>)</i>
<i class ='variable'>big_</i><i class ='variable'>s_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>big_</i><i class ='variable'>s</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>big_</i><i class ='variable'>s</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i> <i class ='keyword'>return</i> <i class ='variable'>big_</i><i class ='variable'>s_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i> <i class ='keyword'>return</i> <i class ='variable'>big_</i><i class ='variable'>s_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>

<i class ='comment'># The older replace implementation counted all matches in</i>
<i class ='comment'># the string even when it only needed to make one replacement.</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot; + (&quot;Z&quot;*128*1024)).replace(&quot;A&quot;, &quot;BB&quot;, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;quick replace single character match&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>quick_</i><i class ='variable'>replace_</i><i class ='variable'>single_</i><i class ='variable'>match</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>big_</i><i class ='variable'>s</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;A&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BB&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;A&quot; + (&quot;Z&quot;*128*1024)).replace(&quot;AZZ&quot;, &quot;BBZZ&quot;, 1)&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;quick replace multiple character match&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>quick_</i><i class ='variable'>replace_</i><i class ='variable'>multiple_</i><i class ='variable'>match</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>big_</i><i class ='variable'>s</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>from_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;AZZ&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>to_</i><i class ='datatype'>str</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;BBZZ&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>replace</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>replace</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_10</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>replace</i><i class ='delimiter'>(</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='variable'>to_</i><i class ='datatype'>str</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i>


<i class ='comment'>####</i>

<i class ='comment'># CCP does a lot of this, for internationalisation of ingame messages.</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;The %(thing)s is %(place)s the %(location)s.&quot;</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='datatype'>dict</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i> <i class ='string'>&quot;thing&quot;</i><i class ='delimiter'>:</i><i class ='string'>&quot;THING&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;place&quot;</i><i class ='delimiter'>:</i><i class ='string'>&quot;PLACE&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;location&quot;</i><i class ='delimiter'>:</i><i class ='string'>&quot;LOCATION&quot;</i><i class ='delimiter'>,</i> <i class ='delimiter'>}</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_f</i><i class ='variable'>ormat</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='hexadecimal'>_f</i><i class ='variable'>ormat</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>dict_</i><i class ='datatype'>bytes</i> <i class ='delimiter'>=</i> <i class ='datatype'>dict</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i> <i class ='variable'>bytes_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i> <i class ='keyword'>for</i> <i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>,</i><i class ='variable'>v</i><i class ='delimiter'>)</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='datatype'>dict</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
<i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>dict_</i><i class ='variable'>unicode</i> <i class ='delimiter'>=</i> <i class ='datatype'>dict</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i> <i class ='variable'>unicode_</i><i class ='variable'>from_</i><i class ='datatype'>str</i><i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i> <i class ='keyword'>for</i> <i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>,</i><i class ='variable'>v</i><i class ='delimiter'>)</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='datatype'>dict</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>format</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i>
        <i class ='keyword'>if</i> <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>version_</i><i class ='variable'>info</i> <i class ='operator'>&gt;=</i> <i class ='delimiter'>(</i><i class ='integer'>3</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>raise</i> <i class ='variable'>UnsupportedType</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>

<i class ='keyword'>def</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>format_</i><i class ='datatype'>dict</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>UNICODE</i><i class ='delimiter'>:</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>dict_</i><i class ='variable'>unicode</i>
    <i class ='keyword'>if</i> <i class ='variable'>STR</i> <i class ='keyword'>is</i> <i class ='variable'>BYTES</i><i class ='delimiter'>:</i>
        <i class ='keyword'>if</i> <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>version_</i><i class ='variable'>info</i> <i class ='operator'>&gt;=</i> <i class ='delimiter'>(</i><i class ='integer'>3</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>raise</i> <i class ='variable'>UnsupportedType</i>
        <i class ='keyword'>return</i> <i class ='hexadecimal'>_f</i><i class ='variable'>ormat_</i><i class ='variable'>dict_</i><i class ='datatype'>bytes</i>
    <i class ='keyword'>raise</i> <i class ='variable'>AssertionError</i>

<i class ='comment'># Formatting.</i>
<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;&quot;The %(k1)s is %(k2)s the %(k3)s.&quot;%{&quot;k1&quot;:&quot;x&quot;,&quot;k2&quot;:&quot;y&quot;,&quot;k3&quot;:&quot;z&quot;,}&#39;</i><i class ='delimiter'>,</i>
       <i class ='charlist'>&#39;formatting a string type with a dict&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>format_</i><i class ='variable'>with_</i><i class ='datatype'>dict</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>format</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='variable'>d</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>_</i><i class ='variable'>get_</i><i class ='variable'>format_</i><i class ='datatype'>dict</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s</i> <i class ='operator'>%</i> <i class ='variable'>d</i>


<i class ='comment'>#### Upper- and lower- case conversion</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;Where in the world is Carmen San Deigo?&quot;*10).lower()&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;case conversion -- rare&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>lower_</i><i class ='variable'>conversion_</i><i class ='variable'>rare</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Where in the world is Carmen San Deigo?&quot;</i><i class ='operator'>*</i><i class ='integer'>10</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>lower</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>lower</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>lower</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;WHERE IN THE WORLD IS CARMEN SAN DEIGO?&quot;*10).lower()&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;case conversion -- dense&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>lower_</i><i class ='variable'>conversion_</i><i class ='variable'>dense</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;WHERE IN THE WORLD IS CARMEN SAN DEIGO?&quot;</i><i class ='operator'>*</i><i class ='integer'>10</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>lower</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>lower</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>lower</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>


<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;wHERE IN THE WORLD IS cARMEN sAN dEIGO?&quot;*10).upper()&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;case conversion -- rare&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>upper_</i><i class ='variable'>conversion_</i><i class ='variable'>rare</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;Where in the world is Carmen San Deigo?&quot;</i><i class ='operator'>*</i><i class ='integer'>10</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>upper</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>upper</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>upper</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

<i class ='delimiter'>@</i><i class ='variable'>bench</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;(&quot;where in the world is carmen san deigo?&quot;*10).upper()&#39;</i><i class ='delimiter'>,</i>
       <i class ='string'>&quot;case conversion -- dense&quot;</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='delimiter'>)</i>
<i class ='keyword'>def</i> <i class ='variable'>upper_</i><i class ='variable'>conversion_</i><i class ='variable'>dense</i><i class ='delimiter'>(</i><i class ='variable'>STR</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='variable'>STR</i><i class ='delimiter'>(</i><i class ='string'>&quot;where in the world is carmen san deigo?&quot;</i><i class ='operator'>*</i><i class ='integer'>10</i><i class ='delimiter'>)</i>
    <i class ='variable'>s_</i><i class ='variable'>upper</i> <i class ='delimiter'>=</i> <i class ='variable'>s</i><i class ='delimiter'>.</i><i class ='variable'>upper</i>
    <i class ='keyword'>for</i> <i class ='variable'>x</i> <i class ='keyword'>in</i> <i class ='hexadecimal'>_</i><i class ='variable'>RANGE_1000</i><i class ='delimiter'>:</i>
        <i class ='variable'>s_</i><i class ='variable'>upper</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>


<i class ='comment'># end of benchmarks</i>

<i class ='comment'>#################</i>

<i class ='keyword'>class</i> <i class ='variable'>BenchTimer</i><i class ='delimiter'>(</i><i class ='variable'>timeit</i><i class ='delimiter'>.</i><i class ='variable'>Timer</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='keyword'>def</i> <i class ='variable'>best</i><i class ='delimiter'>(</i><i class ='variable'>self</i><i class ='delimiter'>,</i> <i class ='variable'>repeat</i><i class ='delimiter'>=</i><i class ='integer'>1</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>i</i> <i class ='keyword'>in</i> <i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>1</i><i class ='delimiter'>,</i> <i class ='integer'>10</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>number</i> <i class ='delimiter'>=</i> <i class ='integer'>10</i><i class ='operator'>**</i><i class ='variable'>i</i>
            <i class ='variable'>x</i> <i class ='delimiter'>=</i> <i class ='variable'>self</i><i class ='delimiter'>.</i><i class ='variable'>timeit</i><i class ='delimiter'>(</i><i class ='variable'>number</i><i class ='delimiter'>)</i>
            <i class ='keyword'>if</i> <i class ='variable'>x</i> <i class ='operator'>&gt;</i> <i class ='float'>0.02</i><i class ='delimiter'>:</i>
                <i class ='keyword'>break</i>
        <i class ='variable'>times</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='variable'>x</i><i class ='delimiter'>]</i>
        <i class ='keyword'>for</i> <i class ='variable'>i</i> <i class ='keyword'>in</i> <i class ='datatype'>range</i><i class ='delimiter'>(</i><i class ='integer'>1</i><i class ='delimiter'>,</i> <i class ='variable'>repeat</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>times</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i><i class ='variable'>self</i><i class ='delimiter'>.</i><i class ='variable'>timeit</i><i class ='delimiter'>(</i><i class ='variable'>number</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
        <i class ='keyword'>return</i> <i class ='variable'>min</i><i class ='delimiter'>(</i><i class ='variable'>times</i><i class ='delimiter'>)</i> <i class ='operator'>/</i> <i class ='variable'>number</i>

<i class ='keyword'>def</i> <i class ='variable'>main</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='delimiter'>(</i><i class ='variable'>options</i><i class ='delimiter'>,</i> <i class ='variable'>test_</i><i class ='variable'>names</i><i class ='delimiter'>)</i> <i class ='delimiter'>=</i> <i class ='variable'>parser</i><i class ='delimiter'>.</i><i class ='variable'>parse_</i><i class ='variable'>args</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
    <i class ='keyword'>if</i> <i class ='variable'>options</i><i class ='delimiter'>.</i><i class ='variable'>bytes_</i><i class ='variable'>only</i> <i class ='keyword'>and</i> <i class ='variable'>options</i><i class ='delimiter'>.</i><i class ='variable'>unicode_</i><i class ='variable'>only</i><i class ='delimiter'>:</i>
        <i class ='keyword'>raise</i> <i class ='variable'>SystemExit</i><i class ='delimiter'>(</i><i class ='string'>&quot;Only one of --8-bit and --unicode are allowed&quot;</i><i class ='delimiter'>)</i>

    <i class ='variable'>bench_</i><i class ='variable'>functions</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='delimiter'>]</i>
    <i class ='keyword'>for</i> <i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>,</i><i class ='variable'>v</i><i class ='delimiter'>)</i> <i class ='keyword'>in</i> <i class ='variable'>globals</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>if</i> <i class ='variable'>hasattr</i><i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>,</i> <i class ='string'>&quot;is_bench&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>if</i> <i class ='variable'>test_</i><i class ='variable'>names</i><i class ='delimiter'>:</i>
                <i class ='keyword'>for</i> <i class ='variable'>name</i> <i class ='keyword'>in</i> <i class ='variable'>test_</i><i class ='variable'>names</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>if</i> <i class ='variable'>name</i> <i class ='keyword'>in</i> <i class ='variable'>v</i><i class ='delimiter'>.</i><i class ='variable'>group</i><i class ='delimiter'>:</i>
                        <i class ='keyword'>break</i>
                <i class ='keyword'>else</i><i class ='delimiter'>:</i>
                    <i class ='comment'># Not selected, ignore</i>
                    <i class ='keyword'>continue</i>
            <i class ='keyword'>if</i> <i class ='variable'>options</i><i class ='delimiter'>.</i><i class ='variable'>skip_</i><i class ='variable'>re</i> <i class ='keyword'>and</i> <i class ='variable'>hasattr</i><i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>,</i> <i class ='string'>&quot;uses_re&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
                <i class ='keyword'>continue</i>

            <i class ='variable'>bench_</i><i class ='variable'>functions</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i> <i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>.</i><i class ='variable'>group</i><i class ='delimiter'>,</i> <i class ='variable'>k</i><i class ='delimiter'>,</i> <i class ='variable'>v</i><i class ='delimiter'>)</i> <i class ='delimiter'>)</i>
    <i class ='variable'>bench_</i><i class ='variable'>functions</i><i class ='delimiter'>.</i><i class ='variable'>sort</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

    <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;bytes\tunicode&quot;</i><i class ='delimiter'>)</i>
    <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;(in ms)\t(in ms)\t%\tcomment&quot;</i><i class ='delimiter'>)</i>

    <i class ='variable'>bytes_</i><i class ='variable'>total</i> <i class ='delimiter'>=</i> <i class ='variable'>uni_</i><i class ='variable'>total</i> <i class ='delimiter'>=</i> <i class ='float'>0.0</i>

    <i class ='keyword'>for</i> <i class ='variable'>title</i><i class ='delimiter'>,</i> <i class ='variable'>group</i> <i class ='keyword'>in</i> <i class ='variable'>itertools</i><i class ='delimiter'>.</i><i class ='variable'>groupby</i><i class ='delimiter'>(</i><i class ='variable'>bench_</i><i class ='variable'>functions</i><i class ='delimiter'>,</i>
                                      <i class ='variable'>operator</i><i class ='delimiter'>.</i><i class ='variable'>itemgetter</i><i class ='delimiter'>(</i><i class ='integer'>0</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='comment'># Flush buffer before each group</i>
        <i class ='variable'>sys</i><i class ='delimiter'>.</i><i class ='variable'>stdout</i><i class ='delimiter'>.</i><i class ='variable'>flush</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
        <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;=&quot;</i><i class ='operator'>*</i><i class ='integer'>10</i><i class ='delimiter'>,</i> <i class ='variable'>title</i><i class ='delimiter'>)</i>
        <i class ='keyword'>for</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>_</i><i class ='delimiter'>,</i> <i class ='variable'>k</i><i class ='delimiter'>,</i> <i class ='variable'>v</i><i class ='delimiter'>)</i> <i class ='keyword'>in</i> <i class ='variable'>group</i><i class ='delimiter'>:</i>
            <i class ='keyword'>if</i> <i class ='variable'>hasattr</i><i class ='delimiter'>(</i><i class ='variable'>v</i><i class ='delimiter'>,</i> <i class ='string'>&quot;is_bench&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
                <i class ='variable'>bytes_</i><i class ='variable'>time</i> <i class ='delimiter'>=</i> <i class ='float'>0.0</i>
                <i class ='variable'>bytes_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot; - &quot;</i>
                <i class ='keyword'>if</i> <i class ='keyword'>not</i> <i class ='variable'>options</i><i class ='delimiter'>.</i><i class ='variable'>unicode_</i><i class ='variable'>only</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>try</i><i class ='delimiter'>:</i>
                        <i class ='variable'>bytes_</i><i class ='variable'>time</i> <i class ='delimiter'>=</i> <i class ='variable'>BenchTimer</i><i class ='delimiter'>(</i><i class ='string'>&quot;__main__.%s(__main__.BYTES)&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i>
                                                <i class ='string'>&quot;import __main__&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>best</i><i class ='delimiter'>(</i><i class ='variable'>REPEAT</i><i class ='delimiter'>)</i>
                        <i class ='variable'>bytes_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;%.2f&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i><i class ='integer'>1000</i> <i class ='operator'>*</i> <i class ='variable'>bytes_</i><i class ='variable'>time</i><i class ='delimiter'>)</i>
                        <i class ='variable'>bytes_</i><i class ='variable'>total</i> <i class ='delimiter'>+=</i> <i class ='variable'>bytes_</i><i class ='variable'>time</i>
                    <i class ='keyword'>except</i> <i class ='variable'>UnsupportedType</i><i class ='delimiter'>:</i>
                        <i class ='variable'>bytes_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;N/A&quot;</i>
                <i class ='variable'>uni_</i><i class ='variable'>time</i> <i class ='delimiter'>=</i> <i class ='float'>0.0</i>
                <i class ='variable'>uni_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot; - &quot;</i>
                <i class ='keyword'>if</i> <i class ='keyword'>not</i> <i class ='variable'>options</i><i class ='delimiter'>.</i><i class ='variable'>bytes_</i><i class ='variable'>only</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>try</i><i class ='delimiter'>:</i>
                        <i class ='variable'>uni_</i><i class ='variable'>time</i> <i class ='delimiter'>=</i> <i class ='variable'>BenchTimer</i><i class ='delimiter'>(</i><i class ='string'>&quot;__main__.%s(__main__.UNICODE)&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i><i class ='variable'>k</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i>
                                              <i class ='string'>&quot;import __main__&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>best</i><i class ='delimiter'>(</i><i class ='variable'>REPEAT</i><i class ='delimiter'>)</i>
                        <i class ='variable'>uni_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;%.2f&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i><i class ='integer'>1000</i> <i class ='operator'>*</i> <i class ='variable'>uni_</i><i class ='variable'>time</i><i class ='delimiter'>)</i>
                        <i class ='variable'>uni_</i><i class ='variable'>total</i> <i class ='delimiter'>+=</i> <i class ='variable'>uni_</i><i class ='variable'>time</i>
                    <i class ='keyword'>except</i> <i class ='variable'>UnsupportedType</i><i class ='delimiter'>:</i>
                        <i class ='variable'>uni_</i><i class ='variable'>time_</i><i class ='variable'>s</i> <i class ='delimiter'>=</i> <i class ='string'>&quot;N/A&quot;</i>
                <i class ='keyword'>try</i><i class ='delimiter'>:</i>
                    <i class ='variable'>average</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>time</i><i class ='operator'>/</i><i class ='variable'>uni_</i><i class ='variable'>time</i>
                <i class ='keyword'>except</i> <i class ='delimiter'>(</i><i class ='variable'>TypeError</i><i class ='delimiter'>,</i> <i class ='variable'>ZeroDivisionError</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
                    <i class ='variable'>average</i> <i class ='delimiter'>=</i> <i class ='float'>0.0</i>
                <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;%s\t%s\t%.1f\t%s (*%d)&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i>
                    <i class ='variable'>bytes_</i><i class ='variable'>time_</i><i class ='variable'>s</i><i class ='delimiter'>,</i> <i class ='variable'>uni_</i><i class ='variable'>time_</i><i class ='variable'>s</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>.</i><i class ='operator'>*</i><i class ='variable'>average</i><i class ='delimiter'>,</i>
                    <i class ='variable'>v</i><i class ='delimiter'>.</i><i class ='variable'>comment</i><i class ='delimiter'>,</i> <i class ='variable'>v</i><i class ='delimiter'>.</i><i class ='variable'>repeat_</i><i class ='variable'>count</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

    <i class ='keyword'>if</i> <i class ='variable'>bytes_</i><i class ='variable'>total</i> <i class ='operator'>==</i> <i class ='variable'>uni_</i><i class ='variable'>total</i> <i class ='operator'>==</i> <i class ='float'>0.0</i><i class ='delimiter'>:</i>
        <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;That was zippy!&quot;</i><i class ='delimiter'>)</i>
    <i class ='keyword'>else</i><i class ='delimiter'>:</i>
        <i class ='keyword'>try</i><i class ='delimiter'>:</i>
            <i class ='variable'>ratio</i> <i class ='delimiter'>=</i> <i class ='variable'>bytes_</i><i class ='variable'>total</i><i class ='operator'>/</i><i class ='variable'>uni_</i><i class ='variable'>total</i>
        <i class ='keyword'>except</i> <i class ='variable'>ZeroDivisionError</i><i class ='delimiter'>:</i>
            <i class ='variable'>ratio</i> <i class ='delimiter'>=</i> <i class ='float'>0.0</i>
        <i class ='variable'>p</i><i class ='delimiter'>(</i><i class ='string'>&quot;%.2f\t%.2f\t%.1f\t%s&quot;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i>
            <i class ='integer'>1000</i><i class ='operator'>*</i><i class ='variable'>bytes_</i><i class ='variable'>total</i><i class ='delimiter'>,</i> <i class ='integer'>1000</i><i class ='operator'>*</i><i class ='variable'>uni_</i><i class ='variable'>total</i><i class ='delimiter'>,</i> <i class ='integer'>100</i><i class ='delimiter'>.</i><i class ='operator'>*</i><i class ='variable'>ratio</i><i class ='delimiter'>,</i>
            <i class ='string'>&quot;TOTAL&quot;</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

<i class ='keyword'>if</i> <i class ='hexadecimal'>__</i><i class ='variable'>name__</i> <i class ='operator'>==</i> <i class ='string'>&quot;__main__&quot;</i><i class ='delimiter'>:</i>
    <i class ='variable'>main</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

      </code>
      </pre>
    </body>
  </html>