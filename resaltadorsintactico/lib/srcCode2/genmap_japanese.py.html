<!DOCTYPE html>
  <head>
    <title>Resaltador sitactico python</title>
    <link rel='stylesheet' href='tags.css'>
  </head>
  <body>
    <pre>
    <code>

  <i class ='comment'>#</i>
<i class ='comment'># genmap_ja_codecs.py: Japanese Codecs Map Generator</i>
<i class ='comment'>#</i>
<i class ='comment'># Original Author:  Hye-Shik Chang &lt;perky@FreeBSD.org&gt;</i>
<i class ='comment'># Modified Author:  Dong-hee Na &lt;donghee.na92@gmail.com&gt;</i>
<i class ='comment'>#</i>
<i class ='keyword'>import</i> <i class ='variable'>os</i>

<i class ='keyword'>from</i> <i class ='variable'>genmap_</i><i class ='variable'>support</i> <i class ='keyword'>import</i> <i class ='operator'>*</i>

<i class ='variable'>JISX0208_</i><i class ='variable'>C1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>74</i><i class ='delimiter'>)</i>
<i class ='variable'>JISX0208_</i><i class ='variable'>C2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>7</i><i class ='variable'>e</i><i class ='delimiter'>)</i>
<i class ='variable'>JISX0212_</i><i class ='variable'>C1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>22</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>6</i><i class ='variable'>d</i><i class ='delimiter'>)</i>
<i class ='variable'>JISX0212_</i><i class ='variable'>C2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>7</i><i class ='variable'>e</i><i class ='delimiter'>)</i>
<i class ='variable'>JISX0213_</i><i class ='variable'>C1</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>7</i><i class ='variable'>e</i><i class ='delimiter'>)</i>
<i class ='variable'>JISX0213_</i><i class ='variable'>C2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>7</i><i class ='variable'>e</i><i class ='delimiter'>)</i>
<i class ='variable'>CP932</i><i class ='variable'>P0_</i><i class ='variable'>C1</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>81</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>81</i><i class ='delimiter'>)</i> <i class ='comment'># patches between shift-jis and cp932</i>
<i class ='variable'>CP932</i><i class ='variable'>P0_</i><i class ='variable'>C2</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>5</i><i class ='variable'>f</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0xca</i><i class ='delimiter'>)</i>
<i class ='variable'>CP932</i><i class ='variable'>P1_</i><i class ='variable'>C1</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>87</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>87</i><i class ='delimiter'>)</i> <i class ='comment'># CP932 P1</i>
<i class ='variable'>CP932</i><i class ='variable'>P1_</i><i class ='variable'>C2</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>40</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0x</i><i class ='integer'>9</i><i class ='variable'>c</i><i class ='delimiter'>)</i>
<i class ='variable'>CP932</i><i class ='variable'>P2_</i><i class ='variable'>C1</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0xed</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0xfc</i><i class ='delimiter'>)</i> <i class ='comment'># CP932 P2</i>
<i class ='variable'>CP932</i><i class ='variable'>P2_</i><i class ='variable'>C2</i>  <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='hexadecimal'>0x</i><i class ='integer'>40</i><i class ='delimiter'>,</i> <i class ='hexadecimal'>0xfc</i><i class ='delimiter'>)</i>

<i class ='variable'>MAPPINGS_</i><i class ='variable'>JIS0208</i> <i class ='delimiter'>=</i> <i class ='charlist'>&#39;http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/JIS/JIS0208.TXT&#39;</i>
<i class ='variable'>MAPPINGS_</i><i class ='variable'>JIS0212</i> <i class ='delimiter'>=</i> <i class ='charlist'>&#39;http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/JIS/JIS0212.TXT&#39;</i>
<i class ='variable'>MAPPINGS_</i><i class ='variable'>CP932</i> <i class ='delimiter'>=</i> <i class ='charlist'>&#39;http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP932.TXT&#39;</i>
<i class ='variable'>MAPPINGS_</i><i class ='variable'>JISX0213_2004</i> <i class ='delimiter'>=</i> <i class ='charlist'>&#39;http://wakaba-web.hp.infoseek.co.jp/table/jisx0213-2004-std.txt&#39;</i>


<i class ='keyword'>def</i> <i class ='variable'>loadmap_</i><i class ='variable'>jisx0213</i><i class ='delimiter'>(</i><i class ='variable'>fo</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>decmap3</i><i class ='delimiter'>,</i> <i class ='variable'>decmap4</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i> <i class ='comment'># maps to BMP for level 3 and 4</i>
    <i class ='variable'>decmap3_2</i><i class ='delimiter'>,</i> <i class ='variable'>decmap4_2</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i> <i class ='comment'># maps to U+2xxxx for level 3 and 4</i>
    <i class ='variable'>decmap3_</i><i class ='variable'>pair</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i> <i class ='comment'># maps to BMP-pair for level 3</i>
    <i class ='keyword'>for</i> <i class ='variable'>line</i> <i class ='keyword'>in</i> <i class ='variable'>fo</i><i class ='delimiter'>:</i>
        <i class ='variable'>line</i> <i class ='delimiter'>=</i> <i class ='variable'>line</i><i class ='delimiter'>.</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;#&#39;</i><i class ='delimiter'>,</i> <i class ='integer'>1</i><i class ='delimiter'>)</i><i class ='delimiter'>[</i><i class ='integer'>0</i><i class ='delimiter'>]</i><i class ='delimiter'>.</i><i class ='variable'>strip</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
        <i class ='keyword'>if</i> <i class ='keyword'>not</i> <i class ='variable'>line</i> <i class ='keyword'>or</i> <i class ='variable'>len</i><i class ='delimiter'>(</i><i class ='variable'>line</i><i class ='delimiter'>.</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i> <i class ='operator'>&lt;</i> <i class ='integer'>2</i><i class ='delimiter'>:</i>
            <i class ='keyword'>continue</i>

        <i class ='variable'>row</i> <i class ='delimiter'>=</i> <i class ='variable'>line</i><i class ='delimiter'>.</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
        <i class ='variable'>loc</i> <i class ='delimiter'>=</i> <i class ='variable'>eval</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;0x&#39;</i> <i class ='operator'>+</i> <i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>0</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='integer'>2</i><i class ='delimiter'>:</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i>
        <i class ='variable'>level</i> <i class ='delimiter'>=</i> <i class ='variable'>eval</i><i class ='delimiter'>(</i><i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>0</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='integer'>0</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i>
        <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='keyword'>None</i>
        <i class ='keyword'>if</i> <i class ='variable'>len</i><i class ='delimiter'>(</i><i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>1</i><i class ='delimiter'>]</i><i class ='delimiter'>.</i><i class ='variable'>split</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;+&#39;</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i> <i class ='operator'>==</i> <i class ='integer'>2</i><i class ='delimiter'>:</i> <i class ='comment'># single unicode</i>
            <i class ='variable'>uni</i> <i class ='delimiter'>=</i> <i class ='variable'>eval</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;0x&#39;</i> <i class ='operator'>+</i> <i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='integer'>2</i><i class ='delimiter'>:</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i>
            <i class ='keyword'>if</i> <i class ='variable'>level</i> <i class ='operator'>==</i> <i class ='integer'>3</i><i class ='delimiter'>:</i>
                <i class ='keyword'>if</i> <i class ='variable'>uni</i> <i class ='operator'>&lt;</i> <i class ='hexadecimal'>0x</i><i class ='integer'>10000</i><i class ='delimiter'>:</i>
                    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>decmap3</i>
                <i class ='keyword'>elif</i> <i class ='hexadecimal'>0x</i><i class ='integer'>20000</i> <i class ='operator'>&lt;=</i> <i class ='variable'>uni</i> <i class ='operator'>&lt;</i> <i class ='hexadecimal'>0x</i><i class ='integer'>30000</i><i class ='delimiter'>:</i>
                    <i class ='variable'>uni</i> <i class ='delimiter'>-=</i> <i class ='hexadecimal'>0x</i><i class ='integer'>20000</i>
                    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>decmap3_2</i>
            <i class ='keyword'>elif</i> <i class ='variable'>level</i> <i class ='operator'>==</i> <i class ='integer'>4</i><i class ='delimiter'>:</i>
                <i class ='keyword'>if</i> <i class ='variable'>uni</i> <i class ='operator'>&lt;</i> <i class ='hexadecimal'>0x</i><i class ='integer'>10000</i><i class ='delimiter'>:</i>
                    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>decmap4</i>
                <i class ='keyword'>elif</i> <i class ='hexadecimal'>0x</i><i class ='integer'>20000</i> <i class ='operator'>&lt;=</i> <i class ='variable'>uni</i> <i class ='operator'>&lt;</i> <i class ='hexadecimal'>0x</i><i class ='integer'>30000</i><i class ='delimiter'>:</i>
                    <i class ='variable'>uni</i> <i class ='delimiter'>-=</i> <i class ='hexadecimal'>0x</i><i class ='integer'>20000</i>
                    <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>decmap4_2</i>
            <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>m</i><i class ='delimiter'>[</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>uni</i>
        <i class ='keyword'>else</i><i class ='delimiter'>:</i> <i class ='comment'># pair</i>
            <i class ='variable'>uniprefix</i> <i class ='delimiter'>=</i> <i class ='variable'>eval</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;0x&#39;</i> <i class ='operator'>+</i> <i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='integer'>2</i><i class ='delimiter'>:</i><i class ='integer'>6</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i> <i class ='comment'># body</i>
            <i class ='variable'>uni</i> <i class ='delimiter'>=</i> <i class ='variable'>eval</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;0x&#39;</i> <i class ='operator'>+</i> <i class ='variable'>row</i><i class ='delimiter'>[</i><i class ='integer'>1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='integer'>7</i><i class ='delimiter'>:</i><i class ='integer'>11</i><i class ='delimiter'>]</i><i class ='delimiter'>)</i> <i class ='comment'># modifier</i>
            <i class ='keyword'>if</i> <i class ='variable'>level</i> <i class ='operator'>!=</i> <i class ='integer'>3</i><i class ='delimiter'>:</i>
                <i class ='keyword'>raise</i> <i class ='variable'>ValueError</i><i class ='delimiter'>(</i><i class ='string'>&quot;invalid map&quot;</i><i class ='delimiter'>)</i>
            <i class ='variable'>decmap3_</i><i class ='variable'>pair</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>uniprefix</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>m</i> <i class ='delimiter'>=</i> <i class ='variable'>decmap3_</i><i class ='variable'>pair</i><i class ='delimiter'>[</i><i class ='variable'>uniprefix</i><i class ='delimiter'>]</i>

        <i class ='keyword'>if</i> <i class ='variable'>m</i> <i class ='keyword'>is</i> <i class ='keyword'>None</i><i class ='delimiter'>:</i>
            <i class ='keyword'>raise</i> <i class ='variable'>ValueError</i><i class ='delimiter'>(</i><i class ='string'>&quot;invalid map&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
        <i class ='variable'>m</i><i class ='delimiter'>[</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='delimiter'>(</i><i class ='variable'>loc</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>)</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>uni</i>

    <i class ='keyword'>return</i> <i class ='variable'>decmap3</i><i class ='delimiter'>,</i> <i class ='variable'>decmap4</i><i class ='delimiter'>,</i> <i class ='variable'>decmap3_2</i><i class ='delimiter'>,</i> <i class ='variable'>decmap4_2</i><i class ='delimiter'>,</i> <i class ='variable'>decmap3_</i><i class ='variable'>pair</i>


<i class ='keyword'>def</i> <i class ='variable'>main</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
    <i class ='variable'>jisx0208</i><i class ='variable'>file</i> <i class ='delimiter'>=</i> <i class ='variable'>open_</i><i class ='variable'>mapping_</i><i class ='variable'>file</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;python-mappings/JIS0208.TXT&#39;</i><i class ='delimiter'>,</i> <i class ='variable'>MAPPINGS_</i><i class ='variable'>JIS0208</i><i class ='delimiter'>)</i>
    <i class ='variable'>jisx0212</i><i class ='variable'>file</i> <i class ='delimiter'>=</i> <i class ='variable'>open_</i><i class ='variable'>mapping_</i><i class ='variable'>file</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;python-mappings/JIS0212.TXT&#39;</i><i class ='delimiter'>,</i> <i class ='variable'>MAPPINGS_</i><i class ='variable'>JIS0212</i><i class ='delimiter'>)</i>
    <i class ='variable'>cp932</i><i class ='variable'>file</i> <i class ='delimiter'>=</i> <i class ='variable'>open_</i><i class ='variable'>mapping_</i><i class ='variable'>file</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;python-mappings/CP932.TXT&#39;</i><i class ='delimiter'>,</i> <i class ='variable'>MAPPINGS_</i><i class ='variable'>CP932</i><i class ='delimiter'>)</i>
    <i class ='variable'>jisx0213</i><i class ='variable'>file</i> <i class ='delimiter'>=</i> <i class ='variable'>open_</i><i class ='variable'>mapping_</i><i class ='variable'>file</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;python-mappings/jisx0213-2004-std.txt&#39;</i><i class ='delimiter'>,</i> <i class ='variable'>MAPPINGS_</i><i class ='variable'>JISX0213_2004</i><i class ='delimiter'>)</i>

    <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Loading Mapping File...&quot;</i><i class ='delimiter'>)</i>

    <i class ='variable'>sjisdecmap</i> <i class ='delimiter'>=</i> <i class ='variable'>loadmap</i><i class ='delimiter'>(</i><i class ='variable'>jisx0208</i><i class ='variable'>file</i><i class ='delimiter'>,</i> <i class ='variable'>natcol</i><i class ='delimiter'>=</i><i class ='integer'>0</i><i class ='delimiter'>,</i> <i class ='variable'>unicol</i><i class ='delimiter'>=</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i> <i class ='delimiter'>=</i> <i class ='variable'>loadmap</i><i class ='delimiter'>(</i><i class ='variable'>jisx0208</i><i class ='variable'>file</i><i class ='delimiter'>,</i> <i class ='variable'>natcol</i><i class ='delimiter'>=</i><i class ='integer'>1</i><i class ='delimiter'>,</i> <i class ='variable'>unicol</i><i class ='delimiter'>=</i><i class ='integer'>2</i><i class ='delimiter'>)</i>
    <i class ='variable'>jisx0212</i><i class ='variable'>decmap</i> <i class ='delimiter'>=</i> <i class ='variable'>loadmap</i><i class ='delimiter'>(</i><i class ='variable'>jisx0212</i><i class ='variable'>file</i><i class ='delimiter'>)</i>
    <i class ='variable'>cp932</i><i class ='variable'>decmap</i> <i class ='delimiter'>=</i> <i class ='variable'>loadmap</i><i class ='delimiter'>(</i><i class ='variable'>cp932</i><i class ='variable'>file</i><i class ='delimiter'>)</i>
    <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>,</i> <i class ='variable'>jis4</i><i class ='variable'>decmap</i><i class ='delimiter'>,</i> <i class ='variable'>jis3_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>,</i> <i class ='variable'>jis4_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>,</i> <i class ='variable'>jis3_</i><i class ='variable'>pairdecmap</i> <i class ='delimiter'>=</i> <i class ='variable'>loadmap_</i><i class ='variable'>jisx0213</i><i class ='delimiter'>(</i><i class ='variable'>jisx0213</i><i class ='variable'>file</i><i class ='delimiter'>)</i>

    <i class ='keyword'>if</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='hexadecimal'>0x</i><i class ='integer'>21</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='hexadecimal'>0x</i><i class ='integer'>24</i><i class ='delimiter'>]</i> <i class ='operator'>!=</i> <i class ='hexadecimal'>0xff</i><i class ='integer'>0</i><i class ='variable'>c</i><i class ='delimiter'>:</i>
        <i class ='keyword'>raise</i> <i class ='variable'>SystemExit</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;Please adjust your JIS X 0213 map using jisx0213-2000-std.txt.diff&#39;</i><i class ='delimiter'>)</i>

    <i class ='variable'>sjisencmap</i><i class ='delimiter'>,</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
    <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>sjisdecmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>sjisencmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>sjisencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>cp932</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='keyword'>if</i> <i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>)</i> <i class ='keyword'>not</i> <i class ='keyword'>in</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>:</i>
                <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>.</i><i class ='variable'>copy</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>copy</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>if</i> <i class ='variable'>c1</i> <i class ='keyword'>in</i> <i class ='variable'>sjisencmap</i> <i class ='keyword'>and</i> <i class ='variable'>c2</i> <i class ='keyword'>in</i> <i class ='variable'>sjisencmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i> <i class ='keyword'>and</i> <i class ='variable'>sjisencmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>c2</i><i class ='delimiter'>]</i> <i class ='operator'>==</i> <i class ='variable'>code</i><i class ='delimiter'>:</i>
                <i class ='keyword'>del</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>c2</i><i class ='delimiter'>]</i>
                <i class ='keyword'>if</i> <i class ='keyword'>not</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>del</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i>

    <i class ='variable'>jisx0213</i><i class ='variable'>pairdecmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
    <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>[</i><i class ='delimiter'>]</i>
    <i class ='keyword'>for</i> <i class ='variable'>unibody</i><i class ='delimiter'>,</i> <i class ='variable'>m1</i> <i class ='keyword'>in</i> <i class ='variable'>jis3_</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m2</i> <i class ='keyword'>in</i> <i class ='variable'>m1</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>modifier</i> <i class ='keyword'>in</i> <i class ='variable'>m2</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
                <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>unibody</i><i class ='delimiter'>,</i> <i class ='variable'>modifier</i><i class ='delimiter'>,</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
                <i class ='variable'>jisx0213</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
                <i class ='variable'>jisx0213</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>c2</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>unibody</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>16</i> <i class ='operator'>|</i> <i class ='variable'>modifier</i>

    <i class ='comment'># Twinmap for both of JIS X 0208 (MSB unset) and JIS X 0212 (MSB set)</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>

    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0212</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='keyword'>if</i> <i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>)</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>:</i>
                <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;OOPS!!!&quot;</i><i class ='delimiter'>,</i> <i class ='delimiter'>(</i><i class ='variable'>code</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
            <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>0x</i><i class ='integer'>8000</i> <i class ='operator'>|</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>

    <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>copy</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>copy</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='keyword'>if</i> <i class ='variable'>c1</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i> <i class ='keyword'>and</i> <i class ='variable'>c2</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>:</i>
                <i class ='keyword'>if</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>jis3_</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>:</i>
                    <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='integer'>0</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i> <i class ='comment'># pair</i>
                    <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>code</i><i class ='delimiter'>,</i> <i class ='integer'>0</i><i class ='delimiter'>,</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
                <i class ='keyword'>elif</i> <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>c2</i><i class ='delimiter'>]</i> <i class ='operator'>==</i> <i class ='variable'>code</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>del</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>c2</i><i class ='delimiter'>]</i>
                    <i class ='keyword'>if</i> <i class ='keyword'>not</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i><i class ='delimiter'>:</i>
                        <i class ='keyword'>del</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>[</i><i class ='variable'>c1</i><i class ='delimiter'>]</i>
                <i class ='keyword'>else</i><i class ='delimiter'>:</i>
                    <i class ='keyword'>raise</i> <i class ='variable'>ValueError</i><i class ='delimiter'>(</i><i class ='string'>&quot;Difference between JIS X 0208 and JIS X 0213 Plane 1 is found.&quot;</i><i class ='delimiter'>)</i>
            <i class ='keyword'>else</i><i class ='delimiter'>:</i>
                <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
                <i class ='keyword'>if</i> <i class ='variable'>code</i> <i class ='keyword'>not</i> <i class ='keyword'>in</i> <i class ='variable'>jis3_</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>:</i>
                    <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>
                <i class ='keyword'>else</i><i class ='delimiter'>:</i>
                    <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='delimiter'>(</i><i class ='integer'>0</i><i class ='delimiter'>,</i><i class ='delimiter'>)</i> <i class ='comment'># pair</i>
                    <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i><i class ='delimiter'>.</i><i class ='variable'>append</i><i class ='delimiter'>(</i><i class ='delimiter'>(</i><i class ='variable'>code</i><i class ='delimiter'>,</i> <i class ='integer'>0</i><i class ='delimiter'>,</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>

    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jis4</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>0x</i><i class ='integer'>8000</i> <i class ='operator'>|</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>

    <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i> <i class ='delimiter'>=</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jis3_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>
    <i class ='keyword'>for</i> <i class ='variable'>c1</i><i class ='delimiter'>,</i> <i class ='variable'>m</i> <i class ='keyword'>in</i> <i class ='variable'>jis4_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
        <i class ='keyword'>for</i> <i class ='variable'>c2</i><i class ='delimiter'>,</i> <i class ='variable'>code</i> <i class ='keyword'>in</i> <i class ='variable'>m</i><i class ='delimiter'>.</i><i class ='variable'>items</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i><i class ='delimiter'>:</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i><i class ='delimiter'>.</i><i class ='variable'>setdefault</i><i class ='delimiter'>(</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>,</i> <i class ='delimiter'>{</i><i class ='delimiter'>}</i><i class ='delimiter'>)</i>
            <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&gt;&gt;</i> <i class ='integer'>8</i><i class ='delimiter'>]</i><i class ='delimiter'>[</i><i class ='variable'>code</i> <i class ='operator'>&amp;</i> <i class ='hexadecimal'>0xff</i><i class ='delimiter'>]</i> <i class ='delimiter'>=</i> <i class ='hexadecimal'>0x</i><i class ='integer'>8000</i> <i class ='operator'>|</i> <i class ='variable'>c1</i> <i class ='operator'>&lt;&lt;</i> <i class ='integer'>8</i> <i class ='operator'>|</i> <i class ='variable'>c2</i>

    <i class ='keyword'>with</i> <i class ='variable'>open</i><i class ='delimiter'>(</i><i class ='string'>&quot;mappings_jp.h&quot;</i><i class ='delimiter'>,</i> <i class ='string'>&quot;w&quot;</i><i class ='delimiter'>)</i> <i class ='keyword'>as</i> <i class ='variable'>fp</i><i class ='delimiter'>:</i>
        <i class ='variable'>print_</i><i class ='variable'>autogen</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='variable'>os</i><i class ='delimiter'>.</i><i class ='variable'>path</i><i class ='delimiter'>.</i><i class ='variable'>basename</i><i class ='delimiter'>(</i><i class ='hexadecimal'>__f</i><i class ='variable'>ile__</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0208 decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0208&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0208</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0208_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0208_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0212 decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0212&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0212</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0212_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0212_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0208 &amp;&amp; JIS X 0212 encode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>EncodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisxcommon&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0208_0212</i><i class ='variable'>encmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating CP932 Extension decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;cp932ext&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>cp932</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>CP932</i><i class ='variable'>P0_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>CP932</i><i class ='variable'>P0_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>CP932</i><i class ='variable'>P1_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>CP932</i><i class ='variable'>P1_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>CP932</i><i class ='variable'>P2_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>CP932</i><i class ='variable'>P2_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating CP932 Extension encode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>EncodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;cp932ext&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>cp932</i><i class ='variable'>encmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 Plane 1 BMP decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_1_bmp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jis3</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0213_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0213_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 Plane 2 BMP decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_2_bmp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jis4</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0213_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0213_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 BMP encode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>EncodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_bmp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0213</i><i class ='variable'>bmpencmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 Plane 1 EMP decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_1_emp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jis3_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0213_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0213_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 Plane 2 EMP decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_2_emp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jis4_2_</i><i class ='variable'>decmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0213_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0213_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 EMP encode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>EncodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_emp&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0213</i><i class ='variable'>empencmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

    <i class ='keyword'>with</i> <i class ='variable'>open</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;mappings_jisx0213_pair.h&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;w&#39;</i><i class ='delimiter'>)</i> <i class ='keyword'>as</i> <i class ='variable'>fp</i><i class ='delimiter'>:</i>
        <i class ='variable'>print_</i><i class ='variable'>autogen</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='variable'>os</i><i class ='delimiter'>.</i><i class ='variable'>path</i><i class ='delimiter'>.</i><i class ='variable'>basename</i><i class ='delimiter'>(</i><i class ='hexadecimal'>__f</i><i class ='variable'>ile__</i><i class ='delimiter'>)</i><i class ='delimiter'>)</i>
        <i class ='variable'>fp</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='fstring'>f&quot;#define JISX0213_ENCPAIRS {len(jisx0213pairencmap)}\n&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>fp</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='multilineComment'>&quot;&quot;&quot;\
#ifdef EXTERN_JISX0213_PAIR
static const struct widedbcs_index *jisx0213_pair_decmap;
static const struct pair_encodemap *jisx0213_pair_encmap;
#else
&quot;&quot;&quot;</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 unicode-pair decode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i> <i class ='delimiter'>=</i> <i class ='variable'>DecodeMapWriter</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>,</i> <i class ='string'>&quot;jisx0213_pair&quot;</i><i class ='delimiter'>,</i> <i class ='variable'>jisx0213</i><i class ='variable'>pairdecmap</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>update_</i><i class ='variable'>decode_</i><i class ='variable'>map</i><i class ='delimiter'>(</i><i class ='variable'>JISX0213_</i><i class ='variable'>C1</i><i class ='delimiter'>,</i> <i class ='variable'>JISX0213_</i><i class ='variable'>C2</i><i class ='delimiter'>)</i>
        <i class ='variable'>writer</i><i class ='delimiter'>.</i><i class ='variable'>generate</i><i class ='delimiter'>(</i><i class ='variable'>wide</i><i class ='delimiter'>=</i><i class ='keyword'>True</i><i class ='delimiter'>)</i>

        <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Generating JIS X 0213 unicode-pair encode map...&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i><i class ='delimiter'>.</i><i class ='variable'>sort</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
        <i class ='variable'>fp</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='string'>&quot;static const struct pair_encodemap jisx0213_pair_encmap[JISX0213_ENCPAIRS] = {\n&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>filler</i> <i class ='delimiter'>=</i> <i class ='variable'>BufferedFiller</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>
        <i class ='keyword'>for</i> <i class ='variable'>body</i><i class ='delimiter'>,</i> <i class ='variable'>modifier</i><i class ='delimiter'>,</i> <i class ='variable'>jis</i> <i class ='keyword'>in</i> <i class ='variable'>jisx0213</i><i class ='variable'>pairencmap</i><i class ='delimiter'>:</i>
            <i class ='variable'>filler</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='charlist'>&#39;{&#39;</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;0x%04x%04x,&#39;</i> <i class ='operator'>%</i> <i class ='delimiter'>(</i><i class ='variable'>body</i><i class ='delimiter'>,</i> <i class ='variable'>modifier</i><i class ='delimiter'>)</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;0x%04x&#39;</i> <i class ='operator'>%</i> <i class ='variable'>jis</i><i class ='delimiter'>,</i> <i class ='charlist'>&#39;},&#39;</i><i class ='delimiter'>)</i>
        <i class ='variable'>filler</i><i class ='delimiter'>.</i><i class ='variable'>printout</i><i class ='delimiter'>(</i><i class ='variable'>fp</i><i class ='delimiter'>)</i>
        <i class ='variable'>fp</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='string'>&quot;};\n&quot;</i><i class ='delimiter'>)</i>
        <i class ='variable'>fp</i><i class ='delimiter'>.</i><i class ='variable'>write</i><i class ='delimiter'>(</i><i class ='string'>&quot;#endif\n&quot;</i><i class ='delimiter'>)</i>

    <i class ='print'>print</i><i class ='delimiter'>(</i><i class ='string'>&quot;Done!&quot;</i><i class ='delimiter'>)</i>

<i class ='keyword'>if</i> <i class ='hexadecimal'>__</i><i class ='variable'>name__</i> <i class ='operator'>==</i> <i class ='charlist'>&#39;__main__&#39;</i><i class ='delimiter'>:</i>
    <i class ='variable'>main</i><i class ='delimiter'>(</i><i class ='delimiter'>)</i>

      </code>
      </pre>
    </body>
  </html>